å¥½ ğŸ‘
ä¸‹é¢æ˜¯å·²ç»æ•´ç†å¥½çš„ **MDï¼ˆMarkdownï¼‰æ ¼å¼**ï¼Œæˆ‘ä¿æŒäº†ï¼š

âœ… æœ€å¤§é™åº¦åŸå°ä¸åŠ¨ç»“æ„
âœ… åŸå­—æ®µã€ç¤ºä¾‹ã€æ³¨é‡Šå…¨éƒ¨ä¿ç•™
âœ… å¯¹ Codex / AI coding agent å‹å¥½ï¼ˆæ¸…æ™° sectionã€endpointã€schemaï¼‰
âœ… å¯ç›´æ¥ä¿å­˜ä¸º `.md` æ–‡ä»¶ä½¿ç”¨

ä½ å¯ä»¥ç›´æ¥å¤åˆ¶å…¨éƒ¨å†…å®¹ã€‚

---

# TuneHub V3 API Reference

---

## å¹³å°æ¦‚è¿°

TuneHub V3 æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½éŸ³ä¹è§£æä¸­é—´ä»¶ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ç»Ÿä¸€ã€æ ‡å‡†åŒ–çš„å¤šå¹³å°éŸ³ä¹æ•°æ®è®¿é—®èƒ½åŠ›ã€‚

æ”¯æŒå¹³å°ï¼š

* ç½‘æ˜“äº‘éŸ³ä¹
* QQéŸ³ä¹
* é…·æˆ‘éŸ³ä¹

---

## Base URL

```
https://tunehub.sayqz.com/api
```

---

## é‰´æƒè®¤è¯

æ‰€æœ‰ API è¯·æ±‚ï¼ˆé™¤å…¬å¼€æ¥å£å¤–ï¼‰å‡éœ€é€šè¿‡ API Key è¿›è¡Œèº«ä»½éªŒè¯ã€‚

### Request Header

```
X-API-Key: th_your_api_key_here
```

### å®‰å…¨æç¤º

è¯·å‹¿åœ¨å®¢æˆ·ç«¯ä»£ç ï¼ˆå¦‚æµè§ˆå™¨ JSï¼‰ä¸­ç›´æ¥æš´éœ² API Keyã€‚å»ºè®®é€šè¿‡æ‚¨çš„åç«¯æœåŠ¡å™¨è½¬å‘è¯·æ±‚ã€‚

---

# è§£ææ¥å£ï¼ˆæ ¸å¿ƒæ¥å£ï¼‰

ç”¨äºè·å–æ­Œæ›²çš„ï¼š

* å…ƒæ•°æ®
* æ’­æ”¾é“¾æ¥
* æ­Œè¯

---

## Endpoint

```
POST /v1/parse
```

---

## è¯·æ±‚å‚æ•°

```json
{
  "platform": "netease",      // netease | qq | kuwo
  "ids": "1974443814,123456", // æ­Œæ›² IDï¼Œæ”¯æŒæ‰¹é‡
  "quality": "320k"           // 128k | 320k | flac | flac24bit
}
```

---

## éŸ³è´¨æ”¯æŒè¡¨

| ä»£ç         | è¯´æ˜                | ç½‘æ˜“äº‘ | QQ  | é…·æˆ‘  |
| --------- | ----------------- | --- | --- | --- |
| 128k      | æ ‡å‡† MP3 (128kbps)  | æ”¯æŒ  | æ”¯æŒ  | æ”¯æŒ  |
| 320k      | é«˜å“è´¨ MP3 (320kbps) | æ”¯æŒ  | æ”¯æŒ  | æ”¯æŒ  |
| flac      | æ— æŸ FLAC           | æ”¯æŒ  | æ”¯æŒ  | æ”¯æŒ  |
| flac24bit | Hi-Res FLAC       | æ”¯æŒ  | ä¸æ”¯æŒ | ä¸æ”¯æŒ |

---

# æ–¹æ³•ä¸‹å‘ï¼ˆMethod Dispatchï¼‰

æ–¹æ³•ä¸‹å‘æ˜¯ä¸€ç§ **"é…ç½®ä¸‹å‘" æ¨¡å¼**ï¼š

* æœåŠ¡ç«¯è¿”å›è¯·æ±‚é…ç½®
* å®¢æˆ·ç«¯è‡ªè¡Œè¯·æ±‚ä¸Šæ¸¸å¹³å°
* ä¸æ¶ˆè€—ç§¯åˆ†

é€‚ç”¨äºï¼š

* æœç´¢
* æ¦œå•
* æ­Œå•
* éæ ¸å¿ƒåŠŸèƒ½

---

## è®¾è®¡ç†å¿µ

æœåŠ¡ç«¯åªè´Ÿè´£è§£ææ­Œæ›²é“¾æ¥ï¼ˆæ¶ˆè€—ç§¯åˆ†ï¼‰ï¼Œå…¶ä»–è¾…åŠ©åŠŸèƒ½ç”±å®¢æˆ·ç«¯è‡ªè¡Œå¤„ç†ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›ã€‚

---

# æ¥å£åˆ—è¡¨

| Method | Endpoint                        | è¯´æ˜              |
| ------ | ------------------------------- | --------------- |
| GET    | /v1/methods                     | è·å–æ‰€æœ‰å¹³å°åŠå…¶å¯ç”¨æ–¹æ³•æ¦‚è§ˆ  |
| GET    | /v1/methods/:platform           | è·å–æŒ‡å®šå¹³å°çš„æ‰€æœ‰å¯ç”¨æ–¹æ³•   |
| GET    | /v1/methods/:platform/:function | è·å–æŒ‡å®šå¹³å°æŒ‡å®šåŠŸèƒ½çš„è¯·æ±‚é…ç½® |

---

## å¯ç”¨æ–¹æ³• (function)

| Function | è¯´æ˜      | æ¨¡æ¿å˜é‡                                |
| -------- | ------- | ----------------------------------- |
| search   | æœç´¢æ­Œæ›²    | {{keyword}}, {{page}}, {{pageSize}} |
| toplists | è·å–æ’è¡Œæ¦œåˆ—è¡¨ | æ—                                    |
| toplist  | è·å–æ’è¡Œæ¦œè¯¦æƒ… | {{id}}                              |
| playlist | è·å–æ­Œå•è¯¦æƒ…  | {{id}}                              |

---

# å“åº”ç»“æ„ï¼ˆMethod Config Schemaï¼‰

è¿”å›çš„é…ç½®å¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µ        | ç±»å‹     | è¯´æ˜                   |
| --------- | ------ | -------------------- |
| type      | string | è¯·æ±‚ç±»å‹ï¼Œå›ºå®šä¸º "http"      |
| method    | string | HTTP æ–¹æ³•ï¼šGET æˆ– POST   |
| url       | string | è¯·æ±‚ç›®æ ‡ URL             |
| params    | object | URL æŸ¥è¯¢å‚æ•°ï¼Œå¯èƒ½åŒ…å« {{å˜é‡}} |
| body      | object | POST è¯·æ±‚ä½“             |
| headers   | object | è¯·æ±‚å¤´                  |
| transform | string | å¯é€‰ï¼Œè½¬æ¢å‡½æ•°å­—ç¬¦ä¸²           |

---

# ä½¿ç”¨ç¤ºä¾‹

---

## Step 1ï¼šè·å–æœç´¢æ–¹æ³•é…ç½®

```
GET /v1/methods/kuwo/search
```

ç¤ºä¾‹å“åº”ï¼š

```json
{
  "code": 0,
  "data": {
    "type": "http",
    "method": "GET",
    "url": "http://search.kuwo.cn/r.s",
    "params": {
      "client": "kt",
      "all": "",
      "pn": "0",
      "rn": "30"
    },
    "headers": { "User-Agent": "okhttp/4.9.0" },
    "transform": "function(response) { ... }"
  }
}
```

---

## Step 2ï¼šå®¢æˆ·ç«¯æ›¿æ¢æ¨¡æ¿å˜é‡å¹¶å‘èµ·è¯·æ±‚

```javascript
// 1. è·å–æ–¹æ³•é…ç½®
const res = await fetch('/api/v1/methods/kuwo/search');
const { data: config } = await res.json();

// 2. æ›¿æ¢æ¨¡æ¿å˜é‡
const params = {};
for (const [key, value] of Object.entries(config.params)) {
  params[key] = value
    .replace('', 'å‘¨æ°ä¼¦')
    .replace('0', '0');
}

// 3. å‘èµ·è¯·æ±‚
const url = new URL(config.url);
url.search = new URLSearchParams(params);

const response = await fetch(url, {
  method: config.method,
  headers: config.headers
});
```

---

# è·¨åŸŸæç¤º

éƒ¨åˆ†å¹³å°æ¥å£å­˜åœ¨ CORS é™åˆ¶ï¼š

* æµè§ˆå™¨ç«¯ç›´æ¥è°ƒç”¨å¯èƒ½å¤±è´¥
* å»ºè®®ä½¿ç”¨æœåŠ¡ç«¯ä»£ç†è½¬å‘è¯·æ±‚

---

# é”™è¯¯ä»£ç 

| Code | Message              | è¯´æ˜             |
| ---- | -------------------- | -------------- |
| 0    | Success              | è¯·æ±‚æˆåŠŸ           |
| -1   | Error                | é€šç”¨é”™è¯¯           |
| -2   | Insufficient credits | è´¦æˆ·ç§¯åˆ†ä¸è¶³         |
| 401  | Unauthorized         | API Key æ— æ•ˆæˆ–æœªæä¾› |
| 403  | Forbidden            | è´¦æˆ·è¢«å°ç¦æˆ– Key å·²ç¦ç”¨ |
| 404  | Not Found            | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨       |
| 500  | Server Error         | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯        |

---

# ï¼ˆå·²ä¼˜åŒ–ï¼‰Codex ä½¿ç”¨æç¤º

* æ‰€æœ‰è¯·æ±‚é»˜è®¤ base URLï¼š

```
https://tunehub.sayqz.com/api
```

* é»˜è®¤éœ€è¦ Headerï¼š

```
X-API-Key
```

* æ¨èæµç¨‹ï¼š

```
search â†’ è·å–æ­Œæ›²ID â†’ parse â†’ è·å–æ’­æ”¾é“¾æ¥
```

---

å¦‚æœä½ æƒ³è¦ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸®ä½ ç”Ÿæˆä¸€ä¸ª **è¶…çº§é€‚åˆ Codex / Cursor / Claude Code çš„ç‰ˆæœ¬**ï¼ˆè¿™ä¸ªæ¯”æ™®é€š md å¼ºå¾ˆå¤šï¼‰ï¼š

ğŸ”¥ è‡ªåŠ¨ç”Ÿæˆ SDK Prompt
ğŸ”¥ AI Agent Tool Schema
ğŸ”¥ MCP å·¥å…·æ ¼å¼
ğŸ”¥ OpenAPI å®Œæ•´ YAML
ğŸ”¥ å¯è‡ªåŠ¨å†™æ’­æ”¾å™¨çš„ Prompt

ç›´æ¥è¯´ä¸€å¥ï¼š

ğŸ‘‰ **ã€Œç»™æˆ‘ Codex è¶…å¼ºç‰ˆã€**

æˆ‘ç›´æ¥ç»™ä½ ä¸€ä¸ª AI èƒ½è‡ªåŠ¨å†™å®Œæ•´æ’­æ”¾å™¨çš„ç‰ˆæœ¬ ğŸ˜ˆã€‚
